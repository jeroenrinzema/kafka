# Kafka Connect Distributed Mode Configuration
# =============================================

# Kafka cluster connection
bootstrap.servers=kafka:9092

# Unique name for the Connect cluster
group.id=connect-cluster

# Topics for storing connector and task configurations, offsets, and status
config.storage.topic=connect-configs
config.storage.replication.factor=1

offset.storage.topic=connect-offsets
offset.storage.replication.factor=1
offset.storage.partitions=25

status.storage.topic=connect-status
status.storage.replication.factor=1
status.storage.partitions=5

# Converters - how keys and values are serialized
key.converter=org.apache.kafka.connect.json.JsonConverter
value.converter=org.apache.kafka.connect.json.JsonConverter

# Disable schemas in JSON (simpler for learning)
key.converter.schemas.enable=false
value.converter.schemas.enable=false

# Internal converter for Connect's internal topics
internal.key.converter=org.apache.kafka.connect.json.JsonConverter
internal.value.converter=org.apache.kafka.connect.json.JsonConverter
internal.key.converter.schemas.enable=false
internal.value.converter.schemas.enable=false

# REST API settings
rest.advertised.host.name=connect
rest.port=8083

# Plugin path for additional connectors
plugin.path=/opt/kafka/libs

# Flush interval for offset commits
offset.flush.interval.ms=10000

# Producer settings for source connectors
producer.acks=all
producer.retries=3
producer.retry.backoff.ms=1000

# Consumer settings for sink connectors
consumer.auto.offset.reset=earliest

# Error handling - log and continue on errors
errors.tolerance=all
errors.log.enable=true
errors.log.include.messages=true

# Dead Letter Queue settings (can be overridden per connector)
# errors.deadletterqueue.topic.name=dlq
# errors.deadletterqueue.topic.replication.factor=1
# errors.deadletterqueue.context.headers.enable=true
